<!--
SPDX-FileCopyrightText: 2025 Kerrick Long <me@kerricklong.com>
SPDX-License-Identifier: CC-BY-SA-4.0
-->

# Prompt for Developer Agent: Phase 3, Step 3.1

You are a Senior Ruby Developer with testing expertise. Your task is to verify that `Layout.split` is robust and returns an `Array<Rect>`. This implements **Phase 3, Step 3.1** of the [Frame Migration Plan](../../../doc/contributors/frame_migration.md).

## Context

Previous agents have completed:
- **Phase 1**: Rust backend for `RubyFrame` with `area()` and `render_widget()`.
- **Phase 2**: Ruby `Frame` class, updated `RatatuiRuby.draw` signature with validation.

The Frame-based API relies heavily on `Layout.split` to divide the terminal area into regions. This method already exists (implemented in `ext/ratatui_ruby/src/widgets/layout.rs`), but we need to ensure it is robust and well-tested for the new use case.

## Task Specs

### 1. Verify `Layout.split` Behavior

**Goal**: Ensure `Layout.split` correctly returns an `Array<Rect>` without rendering anything.

**Key behaviors to verify**:
- Accepts a `Rect` (or Hash with `:x`, `:y`, `:width`, `:height`) as the area argument.
- Returns an `Array` of `Rect` objects matching the number of constraints.
- Each returned `Rect` has correct `x`, `y`, `width`, `height` values.
- Does NOT draw to the terminalâ€”pure calculation only.

### 2. Add Unit Tests

**File**: `test/ratatui_ruby/layout_test.rb` (or appropriate test file)

- Test basic horizontal split with two constraints.
- Test vertical split with multiple constraints.
- Test flex modes (`:center`, `:space_between`, etc.) if not already covered.
- Test that `split` can be called outside of a `draw` block (pure calculation).
- Verify returned objects are `RatatuiRuby::Rect` instances with correct attributes.

### 3. Update Documentation (if needed)

**File**: `lib/ratatui_ruby/schema/layout.rb`

- Ensure RDoc for `Layout.split` documents:
    - Parameters: `area`, `direction`, `constraints`, `flex`.
    - Return type: `Array<Rect>`.
    - That it is a pure calculation utility suitable for hit-testing.
- Add an `=== Examples` section showing usage with the Frame API if not present.

## References
- `ext/ratatui_ruby/src/widgets/layout.rs`: Rust implementation of `split_layout`.
- `sig/ratatui_ruby/schema/layout.rbs`: RBS signature for `Layout.split`.
- `lib/ratatui_ruby/schema/layout.rb`: Ruby documentation.
- `doc/contributors/documentation_style.md`: RDoc conventions.

## Definition of Done
- `Layout.split` returns `Array<Rect>` with correct coordinates.
- Unit tests verify split behavior for horizontal, vertical, and various flex modes.
- Tests confirm `split` works independently of `draw` (no terminal required).
- RDoc documentation for `Layout.split` is complete and accurate.
