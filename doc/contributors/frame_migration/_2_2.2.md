<!--
SPDX-FileCopyrightText: 2025 Kerrick Long <me@kerricklong.com>
SPDX-License-Identifier: CC-BY-SA-4.0
-->

# Prompt for Developer Agent: Phase 2, Step 2.2

You are a Senior Ruby Developer. Your task is to update the `RatatuiRuby.draw` method signature and add validation logic. This implements **Phase 2, Step 2.2** of the [Frame Migration Plan](../../../doc/contributors/frame_migration.md).

## Context

Previous agents have completed:
- **Phase 1**: Rust backend (`frame.rs`, updated `lib.rs`) that supports both `draw(tree)` and `draw { |frame| }`.
- **Phase 2, Step 2.1**: Ruby `Frame` class stub with RDoc documentation and RBS types.

The Rust side now accepts either a tree or a block. Your job is to update the **Ruby interface** in `lib/ratatui_ruby.rb` to document this new capability and add validation.

## Task Specs

### 1. Update `RatatuiRuby.draw` Signature

**File**: `lib/ratatui_ruby.rb`

- Update the method signature from `def self.draw(tree)` to `def self.draw(tree = nil, &block)`.
- Add **validation logic**:
    - If both `tree` and `block` are provided, raise `ArgumentError`.
    - If neither `tree` nor `block` are provided, raise `ArgumentError`.
    - Provide clear error messages like: "Must provide either a tree or a block, not both" and "Must provide either a tree or a block".
- Update RDoc documentation to explain both usage patterns:
    - Legacy: `RatatuiRuby.draw(tree)`
    - New: `RatatuiRuby.draw { |frame| ... }`
- Include `=== Examples` sections for both patterns.
- **Pattern Reference**: Follow `doc/contributors/documentation_style.md` for RDoc conventions.

### 2. Update RBS Signature

**File**: `sig/ratatui_ruby.rbs` (or wherever the module-level signatures live)

- Update the type signature for `draw` to reflect the new overloaded signature:
    - `def self.draw: (widget tree) -> nil`
    - `def self.draw: () { (Frame) -> void } -> nil`
- **Pattern Reference**: See existing RBS files for overload syntax.

## References
- `doc/contributors/documentation_style.md`: RDoc conventions.
- `doc/contributors/frame_migration.md`: Step 2.2 requirements.
- `lib/ratatui_ruby.rb`: Current `draw` implementation.
- `sig/ratatui_ruby.rbs`: Current type signatures (if exists).

## Definition of Done
- `RatatuiRuby.draw` accepts either a tree OR a block.
- Validation raises `ArgumentError` for invalid input combinations.
- RDoc documentation explains both usage patterns.
- RBS type signature reflects the overloaded method.
